# 📆 2022-04-02(SAT)
## ☑️ 오늘 한 일 📑
- [ ] 읽은 책 서평 작성 (작성완료시 리스트에서 삭제)
    - [ ] 리팩토링 2판
- [x] 이펙티브 자바 11장
- [x] 알고리즘 레벨2 1문제 이상
- [ ] JPA 10장 
   
<br>

***

### 🔍️ 오늘 무엇을 했나요? Review
#### 이펙티브 자바 11장 
##### 79 과도한 동기화는 피하라 
- 과도한 동기화는 성능을 떨어뜨리고, 교착상태에 빠뜨리고, 심지어 예측할 수 없는 동작을 낳기도 한다. 
- 응답 불가와 안전 실패를 피하려면 동기화 메서드나 동기화 블록 안에서는 제어를 절대로 클라이언트에 양도하면 안 된다. 
- 기본 규칙은 동기화 영역에서는 가능한 한 일을 적게 하는 것이다. 
  - 락을 얻고, 공유 데이터를 검사하고, 필요하면 수정하고, 락을 놓는다. 
  
##### 80 스레드보다는 실행자, 태스크, 스트림을 애용하라 
- `Cached TreadPool` 에서는 요청받은 태스크들이 큐에 쌓이지 않고 즉시 스레드에 위임돼 실행된다. 
  - 가용한 스레드가 없다면 새로 하나를 생성한다. 
- 스레드를 직접 다루면 `Thread`가 작업 단위와 수행 매커니즘 역할을 모두 수행하게 된다. 
- 실행자 프레임워크에서는 작업 단위와 실행 메커니즘이 분리된다. 
- 작업 단위를 나타내는 핵심 추상 개념이 태스크다. 

##### 81 wait와 notify보다는 동시성 유틸리티를 애용하라 
- **wait**와 **notify**는 올바르게 사용하기가 아주 까다로우니 고수준 동시성 유틸리티를 사용하자
- 동시성 컬렉션에서 동시성을 무력화하는 건 불가능하며, 외부에서 락을 추가로 사용하면 오히려 속도가 느려진다.
- 동기화 장치는 스레드가 다른 스레드를 기다릴 수 있게 하여, 서로 작업을 조율할 수 있게 해준다. 
- **wait** 메서드를 사용할 때는 반드시 대기 반복문 관용구를 사용하라. 반복문 밖에서는 절대로 호출하지 말자. 

##### 82 스레드 안전성 수준을 문서화하라
- 메서드 선언에 **synchronized** 한정자를 선언할지는 구현 이슈일 뿐 API에 속하지 않는다. 
- 멀티스레드 환경에서도 API를 안전하게 사용하게 하려면 클래스가 지원하는 스레드 안전성 수준을 정확히 명시해야 한다. 

##### 83 지연 초기화는 신중히 사용하라 
- 대부분의 상황에서 일반적인 초기화가 지연 초기화보다 낫다.
- 지연 초기화가 초기화 순환성을 깨뜨릴 것 같으면 **synchronized**를 단 접근자를 사용하자. 
- 성능 때문에 정적 필드를 지연 초기화해야 한다면 지연 초기화 홀더 클래스 관용구를 사용하자. 
- 성능 때문에 인스턴스 필드를 지연 초기화해야 한다면 이중검사 관용구를 사용하라

##### 84 프로그램의 동작은 스레드 스케줄러에 기대지 말라
- 정확성이나 성능이 스레드 스케줄러에 따라 달라지는 프로그램이라면 다른 플랫폼에 이식하기 어렵다. 
- 실행 가능한 스레드의 평균적인 수를 프로세서 수보다 지나치게 많아지지 않도록 해야한다. 
- 실행 준비가 된 스레드들은 맡은 작업을 완료할 때까지 계속 실행되도록 만들자
- 실행 가능한 스레드의 수와 전체 스레드 수는 구분해야 한다. 
- 실행 가능한 스레드 수를 적게 유지하는 주요 기법은 각 스레드가 무언가 유용한 작업을 완료한 후에는 다음 일거리가 생길 때까지 대기하도록 하는 것이다. 
- 스레드는 당장 처리해야 할 작업이 없다면 실행돼서는 안 된다.

#### 프로그래머스 lv2 [기능개발](https://github.com/Kyuwon53/Python-algorithm/tree/main/programmers/Level2/%EA%B8%B0%EB%8A%A5%EA%B0%9C%EB%B0%9C)
- 테스트 케이스 여러개 작성 
- 단계적 테스트를 거쳐서 작성 

***

## 💡 오늘 회고

평일에 완료하지 못한 TODO 리스트들을 하나씩 해결하고 있다. 

프로그래머스 lv2 문제를 풀고있다. 짝 프로그래밍에서 본것처럼 일단 계획을 먼저 세웠다. 큰 목표를 설정한 다음 그렇게 되려면 필요한 정보가 무엇인가? 계획을 세우고
그 정보를 얻기위해 어떻게 해야하는가 세부계획을 세워서하니 헷갈림이 덜했고 문제 해결 시간도 빨라졌다. 테스트를 먼저 작성한 후 단계적으로 테스트를 실행하면서 
개발을 진행했고 테스트케이스를 추가하면서 오류가 없는지 검사했다. 테스트 모두 통과한 뒤에 코드를 예쁘게 만드는 작업까지 연습을 해야겠다.
코드를 예쁘게 만드는게 은근히 어렵다. 

이펙티브 자바 11장 동기화를 읽었는데 이부분은 아무래도 스레드를 공부하고 다시 읽어봐야겠다. 마지막 12장 직렬화도 어려울거 같은데 읽고 또 읽어봐야지.. 

🎯 이번주 목표: **조금씩 꾸준히**

***

## 🎯 내일 할 일 🎯
- [ ] 읽은 책 서평 작성 (작성완료시 리스트에서 삭제)
    - [ ] 리팩토링 2판
- [ ] 이펙티브 자바 12장
- [ ] 알고리즘 레벨2 1문제 이상
- [ ] JPA 10장 

***

## 🏁 이번주 목표 🏁
- [ ] 알고리즘 매일 1문제 이상
- [ ] 이펙티브 자바 끝까지
- [x] 프로그래머의 뇌 스터디
- [ ] JPA 프로그래밍 11장까지 읽기
- [ ] 읽은 책들 서평 작성
- [ ] 노션 시작
- [ ] 줌 클론코딩 끝내기
- [ ] 개인 프로젝트 작업하기 